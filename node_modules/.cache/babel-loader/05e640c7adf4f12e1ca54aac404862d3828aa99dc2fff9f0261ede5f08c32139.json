{"ast":null,"code":"// CountdownSlice.js\nimport { createSlice } from '@reduxjs/toolkit';\nimport { toggleGameContent, resetGame } from '../GameContentModal/GameContentSlice';\nconst countdownSlice = createSlice({\n  name: 'countdownModal',\n  initialState: {\n    countdownTime: 3,\n    showCountdownModal: false,\n    intervalId: null\n  },\n  reducers: {\n    setCountdownTimeModal: (state, action) => {\n      state.countdownTime = action.payload;\n    },\n    toggleCountdownModal: (state, action) => {\n      state.showCountdownModal = action.payload;\n    },\n    setIntervalId: (state, action) => {\n      state.intervalId = action.payload;\n    }\n  }\n});\nexport const {\n  setCountdownTimeModal,\n  toggleCountdownModal,\n  setIntervalId\n} = countdownSlice.actions;\nexport const startCountdown = () => (dispatch, getState) => {\n  const initCountDownTime = 3;\n  dispatch(resetGame());\n  dispatch(setCountdownTimeModal(initCountDownTime));\n  const id = setInterval(() => {\n    const {\n      countdownModal\n    } = getState();\n    const newTime = countdownModal.countdownTime - 1;\n    if (newTime <= 0) {\n      clearInterval(id);\n      dispatch(setIntervalId(null));\n      dispatch(toggleCountdownModal(false));\n      dispatch(toggleGameContent(true));\n    } else {\n      dispatch(setCountdownTimeModal(newTime));\n    }\n  }, 1000);\n  dispatch(setIntervalId(id));\n};\nexport default countdownSlice.reducer;","map":{"version":3,"names":["createSlice","toggleGameContent","resetGame","countdownSlice","name","initialState","countdownTime","showCountdownModal","intervalId","reducers","setCountdownTimeModal","state","action","payload","toggleCountdownModal","setIntervalId","actions","startCountdown","dispatch","getState","initCountDownTime","id","setInterval","countdownModal","newTime","clearInterval","reducer"],"sources":["C:/Users/Admin/OneDrive/Máy tính/MiniGame-ReduxToolKit/src/components/CountdownModal/CountdownSlice.js"],"sourcesContent":["// CountdownSlice.js\r\nimport { createSlice } from '@reduxjs/toolkit';\r\nimport { toggleGameContent, resetGame } from '../GameContentModal/GameContentSlice';\r\n\r\nconst countdownSlice = createSlice({\r\n  name: 'countdownModal',\r\n  initialState: {\r\n    countdownTime: 3,\r\n    showCountdownModal: false,\r\n    intervalId: null,\r\n  },\r\n  reducers: {\r\n    setCountdownTimeModal: (state, action) => {\r\n      state.countdownTime = action.payload;\r\n    },\r\n    toggleCountdownModal: (state, action) => {\r\n      state.showCountdownModal = action.payload;\r\n      \r\n    },\r\n    setIntervalId: (state, action) => {\r\n      state.intervalId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCountdownTimeModal, toggleCountdownModal, setIntervalId } = countdownSlice.actions;\r\n\r\nexport const startCountdown = () => (dispatch, getState) => {\r\n  const initCountDownTime = 3;\r\n\r\n  dispatch(resetGame());\r\n  dispatch(setCountdownTimeModal(initCountDownTime));\r\n\r\n  const id = setInterval(() => {\r\n    const { countdownModal } = getState();\r\n    const newTime = countdownModal.countdownTime - 1;\r\n    if (newTime <= 0) {\r\n      clearInterval(id);\r\n      dispatch(setIntervalId(null));\r\n      dispatch(toggleCountdownModal(false));\r\n      dispatch(toggleGameContent(true));\r\n    } else {\r\n      dispatch(setCountdownTimeModal(newTime));\r\n    }\r\n  }, 1000);\r\n\r\n  dispatch(setIntervalId(id));\r\n};\r\n\r\nexport default countdownSlice.reducer;\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,iBAAiB,EAAEC,SAAS,QAAQ,sCAAsC;AAEnF,MAAMC,cAAc,GAAGH,WAAW,CAAC;EACjCI,IAAI,EAAE,gBAAgB;EACtBC,YAAY,EAAE;IACZC,aAAa,EAAE,CAAC;IAChBC,kBAAkB,EAAE,KAAK;IACzBC,UAAU,EAAE;EACd,CAAC;EACDC,QAAQ,EAAE;IACRC,qBAAqB,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MACxCD,KAAK,CAACL,aAAa,GAAGM,MAAM,CAACC,OAAO;IACtC,CAAC;IACDC,oBAAoB,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MACvCD,KAAK,CAACJ,kBAAkB,GAAGK,MAAM,CAACC,OAAO;IAE3C,CAAC;IACDE,aAAa,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAChCD,KAAK,CAACH,UAAU,GAAGI,MAAM,CAACC,OAAO;IACnC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,qBAAqB;EAAEI,oBAAoB;EAAEC;AAAc,CAAC,GAAGZ,cAAc,CAACa,OAAO;AAEpG,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAC1D,MAAMC,iBAAiB,GAAG,CAAC;EAE3BF,QAAQ,CAAChB,SAAS,CAAC,CAAC,CAAC;EACrBgB,QAAQ,CAACR,qBAAqB,CAACU,iBAAiB,CAAC,CAAC;EAElD,MAAMC,EAAE,GAAGC,WAAW,CAAC,MAAM;IAC3B,MAAM;MAAEC;IAAe,CAAC,GAAGJ,QAAQ,CAAC,CAAC;IACrC,MAAMK,OAAO,GAAGD,cAAc,CAACjB,aAAa,GAAG,CAAC;IAChD,IAAIkB,OAAO,IAAI,CAAC,EAAE;MAChBC,aAAa,CAACJ,EAAE,CAAC;MACjBH,QAAQ,CAACH,aAAa,CAAC,IAAI,CAAC,CAAC;MAC7BG,QAAQ,CAACJ,oBAAoB,CAAC,KAAK,CAAC,CAAC;MACrCI,QAAQ,CAACjB,iBAAiB,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC,MAAM;MACLiB,QAAQ,CAACR,qBAAqB,CAACc,OAAO,CAAC,CAAC;IAC1C;EACF,CAAC,EAAE,IAAI,CAAC;EAERN,QAAQ,CAACH,aAAa,CAACM,EAAE,CAAC,CAAC;AAC7B,CAAC;AAED,eAAelB,cAAc,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}