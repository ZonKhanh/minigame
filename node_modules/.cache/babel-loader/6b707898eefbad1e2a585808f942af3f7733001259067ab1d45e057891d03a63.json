{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{setCountdownTime,toggleCountdownModal,setIntervalId,toggleGameContent}from'../../store/gameSlice';import'../CountdownModal/CountdownModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CountdownModal=()=>{const dispatch=useDispatch();const countdownTime=useSelector(state=>state.game.countdownTime);const showCountdownModal=useSelector(state=>state.game.showCountdownModal);const intervalId=useSelector(state=>state.game.intervalId);useEffect(()=>{if(showCountdownModal){// Nếu modal đếm ngược được hiển thị\nconst initCountDownTime=3;dispatch(setCountdownTime(initCountDownTime));const id=setInterval(()=>{// Interval giảm thời gian đếm ngược\ndispatch((dispatch,getState)=>{const{game}=getState();const newTime=game.countdownTime-1;if(newTime<=0){clearInterval(game.intervalId);dispatch(setIntervalId(null));dispatch(toggleCountdownModal(false));dispatch(toggleGameContent(true));}else{dispatch(setCountdownTime(newTime));}});},1000);dispatch(setIntervalId(id));}return()=>{if(intervalId){clearInterval(intervalId);dispatch(setIntervalId(null));}};},[showCountdownModal,dispatch]);if(!showCountdownModal)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"modal-count-down\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Count Down Game\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"count-down-text\",children:countdownTime})]});};export default CountdownModal;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","setCountdownTime","toggleCountdownModal","setIntervalId","toggleGameContent","jsx","_jsx","jsxs","_jsxs","CountdownModal","dispatch","countdownTime","state","game","showCountdownModal","intervalId","initCountDownTime","id","setInterval","getState","newTime","clearInterval","className","children"],"sources":["C:/Users/Admin/OneDrive/Máy tính/AUDIO/minigame-react/src/components/CountdownModal/CountdownModal.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  setCountdownTime,\r\n  toggleCountdownModal,\r\n  setIntervalId,\r\n  toggleGameContent,\r\n} from '../../store/gameSlice';\r\nimport '../CountdownModal/CountdownModal.css'\r\n\r\nconst CountdownModal = () => {\r\n    const dispatch = useDispatch();\r\n    const countdownTime = useSelector((state) => state.game.countdownTime);\r\n    const showCountdownModal = useSelector((state) => state.game.showCountdownModal);\r\n    const intervalId = useSelector((state) => state.game.intervalId);\r\n  \r\n    useEffect(() => {\r\n      if (showCountdownModal) { // Nếu modal đếm ngược được hiển thị\r\n        const initCountDownTime = 3;\r\n        dispatch(setCountdownTime(initCountDownTime));\r\n        const id = setInterval(() => { // Interval giảm thời gian đếm ngược\r\n          dispatch((dispatch, getState) => {\r\n            const { game } = getState();\r\n            const newTime = game.countdownTime - 1;\r\n            if (newTime <= 0) {\r\n              clearInterval(game.intervalId);\r\n              dispatch(setIntervalId(null));\r\n              dispatch(toggleCountdownModal(false));\r\n              dispatch(toggleGameContent(true));\r\n            } else {\r\n              dispatch(setCountdownTime(newTime));\r\n            }\r\n          });\r\n        }, 1000);\r\n  \r\n        dispatch(setIntervalId(id));\r\n    }\r\n        return () => {\r\n            if (intervalId) {\r\n              clearInterval(intervalId);\r\n              dispatch(setIntervalId(null));\r\n            }\r\n          };\r\n        }, [showCountdownModal, dispatch]);\r\n      \r\n        if (!showCountdownModal) return null;\r\n    return (\r\n        <div className=\"modal-count-down\">\r\n            <span>Count Down Game</span>\r\n            <h1 className=\"count-down-text\">{countdownTime}</h1>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default CountdownModal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,gBAAgB,CAChBC,oBAAoB,CACpBC,aAAa,CACbC,iBAAiB,KACZ,uBAAuB,CAC9B,MAAO,sCAAsC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,aAAa,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACF,aAAa,CAAC,CACtE,KAAM,CAAAG,kBAAkB,CAAGf,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACC,kBAAkB,CAAC,CAChF,KAAM,CAAAC,UAAU,CAAGhB,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACE,UAAU,CAAC,CAEhEjB,SAAS,CAAC,IAAM,CACd,GAAIgB,kBAAkB,CAAE,CAAE;AACxB,KAAM,CAAAE,iBAAiB,CAAG,CAAC,CAC3BN,QAAQ,CAACT,gBAAgB,CAACe,iBAAiB,CAAC,CAAC,CAC7C,KAAM,CAAAC,EAAE,CAAGC,WAAW,CAAC,IAAM,CAAE;AAC7BR,QAAQ,CAAC,CAACA,QAAQ,CAAES,QAAQ,GAAK,CAC/B,KAAM,CAAEN,IAAK,CAAC,CAAGM,QAAQ,CAAC,CAAC,CAC3B,KAAM,CAAAC,OAAO,CAAGP,IAAI,CAACF,aAAa,CAAG,CAAC,CACtC,GAAIS,OAAO,EAAI,CAAC,CAAE,CAChBC,aAAa,CAACR,IAAI,CAACE,UAAU,CAAC,CAC9BL,QAAQ,CAACP,aAAa,CAAC,IAAI,CAAC,CAAC,CAC7BO,QAAQ,CAACR,oBAAoB,CAAC,KAAK,CAAC,CAAC,CACrCQ,QAAQ,CAACN,iBAAiB,CAAC,IAAI,CAAC,CAAC,CACnC,CAAC,IAAM,CACLM,QAAQ,CAACT,gBAAgB,CAACmB,OAAO,CAAC,CAAC,CACrC,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,IAAI,CAAC,CAERV,QAAQ,CAACP,aAAa,CAACc,EAAE,CAAC,CAAC,CAC/B,CACI,MAAO,IAAM,CACT,GAAIF,UAAU,CAAE,CACdM,aAAa,CAACN,UAAU,CAAC,CACzBL,QAAQ,CAACP,aAAa,CAAC,IAAI,CAAC,CAAC,CAC/B,CACF,CAAC,CACH,CAAC,CAAE,CAACW,kBAAkB,CAAEJ,QAAQ,CAAC,CAAC,CAElC,GAAI,CAACI,kBAAkB,CAAE,MAAO,KAAI,CACxC,mBACIN,KAAA,QAAKc,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BjB,IAAA,SAAAiB,QAAA,CAAM,iBAAe,CAAM,CAAC,cAC5BjB,IAAA,OAAIgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEZ,aAAa,CAAK,CAAC,EACnD,CAAC,CAGd,CAAC,CACD,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}