{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{useSelector,useDispatch}from'react-redux';import{setIntervalId,startCountdown}from'./CountdownSlice';import'./Index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CountdownModal=()=>{const dispatch=useDispatch();const countdownTime=useSelector(state=>state.countdownModal.countdownTime);const showCountdownModal=useSelector(state=>state.countdownModal.showCountdownModal);const intervalIdRef=useRef(null);useEffect(()=>{if(showCountdownModal){dispatch(startCountdown());}},[showCountdownModal,dispatch]);useEffect(()=>{// Cập nhật biến tạm để giữ giá trị của intervalIdRef.current\nconst intervalId=intervalIdRef.current;return()=>{if(intervalId){clearInterval(intervalId);dispatch(setIntervalId(null));}};},[dispatch]);if(!showCountdownModal)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"modal-count-down\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Count Down Game\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"count-down-text\",children:countdownTime})]});};export default CountdownModal;","map":{"version":3,"names":["React","useEffect","useRef","useSelector","useDispatch","setIntervalId","startCountdown","jsx","_jsx","jsxs","_jsxs","CountdownModal","dispatch","countdownTime","state","countdownModal","showCountdownModal","intervalIdRef","intervalId","current","clearInterval","className","children"],"sources":["C:/Users/Admin/OneDrive/Máy tính/MiniGame-ReduxToolKit/src/components/CountdownModal/Index.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {  setIntervalId, startCountdown } from './CountdownSlice';\r\nimport './Index.css'\r\n\r\nconst CountdownModal = () => {\r\n  const dispatch = useDispatch();\r\n  const countdownTime = useSelector((state) => state.countdownModal.countdownTime);\r\n  const showCountdownModal = useSelector((state) => state.countdownModal.showCountdownModal);\r\n  const intervalIdRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (showCountdownModal) {\r\n      dispatch(startCountdown());\r\n    }\r\n  }, [showCountdownModal, dispatch]);\r\n\r\n  useEffect(() => {\r\n    // Cập nhật biến tạm để giữ giá trị của intervalIdRef.current\r\n    const intervalId = intervalIdRef.current;\r\n\r\n    return () => {\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n        dispatch(setIntervalId(null));\r\n      }\r\n    };\r\n  }, [dispatch]);\r\n\r\n  if (!showCountdownModal) return null;\r\n\r\n  return (\r\n    <div className=\"modal-count-down\">\r\n      <span>Count Down Game</span>\r\n      <h1 className=\"count-down-text\">{countdownTime}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountdownModal;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAAUC,aAAa,CAAEC,cAAc,KAAQ,kBAAkB,CACjE,MAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,aAAa,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACC,cAAc,CAACF,aAAa,CAAC,CAChF,KAAM,CAAAG,kBAAkB,CAAGb,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACC,cAAc,CAACC,kBAAkB,CAAC,CAC1F,KAAM,CAAAC,aAAa,CAAGf,MAAM,CAAC,IAAI,CAAC,CAElCD,SAAS,CAAC,IAAM,CACd,GAAIe,kBAAkB,CAAE,CACtBJ,QAAQ,CAACN,cAAc,CAAC,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACU,kBAAkB,CAAEJ,QAAQ,CAAC,CAAC,CAElCX,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAiB,UAAU,CAAGD,aAAa,CAACE,OAAO,CAExC,MAAO,IAAM,CACX,GAAID,UAAU,CAAE,CACdE,aAAa,CAACF,UAAU,CAAC,CACzBN,QAAQ,CAACP,aAAa,CAAC,IAAI,CAAC,CAAC,CAC/B,CACF,CAAC,CACH,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CAEd,GAAI,CAACI,kBAAkB,CAAE,MAAO,KAAI,CAEpC,mBACEN,KAAA,QAAKW,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/Bd,IAAA,SAAAc,QAAA,CAAM,iBAAe,CAAM,CAAC,cAC5Bd,IAAA,OAAIa,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAET,aAAa,CAAK,CAAC,EACjD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}