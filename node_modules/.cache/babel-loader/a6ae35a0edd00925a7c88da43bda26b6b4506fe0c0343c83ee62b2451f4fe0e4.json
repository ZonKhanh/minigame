{"ast":null,"code":"import { configureStore, createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  listProducts: [],\n  listCharacters: [],\n  nameCorrectIndex: null,\n  requiredNumberProducts: null,\n  randomNameCorrect: '',\n  levels: [],\n  timeStepPercentage: [],\n  countdownTime: 3,\n  showCountdownModal: false,\n  intervalId: null,\n  showGameContent: false,\n  initTimeRemainder: 100,\n  playTimes: 5,\n  maxRequiredProducts: 5,\n  answerDone: false,\n  timeStepDenominator: 10,\n  score: 0,\n  gameTime: {\n    timerInterval: null,\n    timeRemainder: 100,\n    timeStep: 10\n  },\n  gameSound: {\n    audioBackground: \"assets/music/bg_sound.mp3\",\n    audioFail: \"assets/music/wrong.mp3\",\n    maxVolume: 1,\n    audioRatio: 1\n  },\n  currentScore: 0,\n  currentLevel: 1\n};\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    updateProducts(state, action) {\n      state.listProducts = action.payload;\n    },\n    updateCharacters(state, action) {\n      state.listCharacters = action.payload;\n    },\n    updateLevels(state, action) {\n      state.levels = action.payload;\n    },\n    updateTimeStepPercentage(state, action) {\n      state.timeStepPercentage = action.payload;\n    },\n    setCountdownTime(state, action) {\n      state.countdownTime = action.payload;\n    },\n    toggleCountdownModal(state, action) {\n      state.showCountdownModal = action.payload;\n    },\n    setIntervalId(state, action) {\n      state.intervalId = action.payload;\n    },\n    toggleGameContent(state, action) {\n      state.showGameContent = action.payload;\n    },\n    resetGame(state) {\n      return initialState;\n    },\n    incrementScore(state) {\n      state.currentScore += 1;\n    },\n    incrementLevel(state) {\n      state.currentLevel += 1;\n    },\n    setShowRandomProductName(state, action) {\n      state.requiredProductName = action.payload;\n    },\n    setRandomProductNumber(state, action) {\n      state.requiredProductNumber = action.payload;\n    },\n    setGameData(state, action) {\n      state.listProducts = action.payload.products;\n      state.listCharacters = action.payload.characters;\n      state.levels = action.payload.levels;\n    },\n    handleCorrectAnswer: (state, action) => {\n      const {\n        productCard\n      } = action.payload;\n      const numberCorrectElement = productCard.find('.number-correct span:last-child');\n      const newValue = Number(numberCorrectElement.text()) + 1;\n      numberCorrectElement.text(newValue);\n      productCard.find('.number-correct').css('display', 'flex');\n      if (newValue > state.requiredNumberProducts) {\n        console.log('You choosed over quantity!');\n        state.showGameOver = true;\n      } else if (newValue === state.requiredNumberProducts) {\n        console.log('You choosed correct');\n        setTimeout(() => {\n          state.resetAnswer();\n          state.showRandomNameCorrect();\n          state.showScoreCalculator();\n          state.getAnswer();\n          state.showCountdownTime();\n        }, 300);\n      }\n    },\n    handleIncorrectAnswer: state => {\n      console.log('You choosed incorrect!');\n      $(\".audio-background\").get(0).pause();\n      state.showGameOver = true;\n      state.playSoundGameOver();\n    },\n    resetAnswer: state => {\n      $('.number-correct span:last-child').text('0');\n      $('.name-correct-desc').text('');\n      $('.number-correct').css('display', 'none');\n      clearInterval(state.gameTime.timerInterval);\n      state.gameTime.timeRemainder = state.gameTime.initTimeRemainder;\n      $('.timer-range').css('width', `${state.gameTime.timeRemainder}%`);\n    },\n    showRandomNameCorrect(state) {\n      var _state$listProducts$r;\n      const randomIndex = Math.floor(Math.random() * state.listProducts.length);\n      const maxRequiredProducts = 5;\n      state.nameCorrectIndex = randomIndex;\n      state.requiredNumberProducts = Math.floor(Math.random() * maxRequiredProducts) + 1;\n      state.randomNameCorrect = ((_state$listProducts$r = state.listProducts[randomIndex]) === null || _state$listProducts$r === void 0 ? void 0 : _state$listProducts$r.title) || '';\n    }\n  }\n});\nexport const {\n  updateProducts,\n  updateCharacters,\n  updateLevels,\n  updateTimeStepPercentage,\n  resetGame,\n  incrementScore,\n  incrementLevel,\n  setCountdownTime,\n  toggleCountdownModal,\n  setIntervalId,\n  toggleGameContent,\n  setShowRandomProductName,\n  setRandomProductNumber,\n  setGameData,\n  showRandomNameCorrect,\n  setRandomNameCorrect\n} = gameSlice.actions;\nexport const store = configureStore({\n  reducer: {\n    game: gameSlice.reducer\n  }\n});","map":{"version":3,"names":["configureStore","createSlice","initialState","listProducts","listCharacters","nameCorrectIndex","requiredNumberProducts","randomNameCorrect","levels","timeStepPercentage","countdownTime","showCountdownModal","intervalId","showGameContent","initTimeRemainder","playTimes","maxRequiredProducts","answerDone","timeStepDenominator","score","gameTime","timerInterval","timeRemainder","timeStep","gameSound","audioBackground","audioFail","maxVolume","audioRatio","currentScore","currentLevel","gameSlice","name","reducers","updateProducts","state","action","payload","updateCharacters","updateLevels","updateTimeStepPercentage","setCountdownTime","toggleCountdownModal","setIntervalId","toggleGameContent","resetGame","incrementScore","incrementLevel","setShowRandomProductName","requiredProductName","setRandomProductNumber","requiredProductNumber","setGameData","products","characters","handleCorrectAnswer","productCard","numberCorrectElement","find","newValue","Number","text","css","console","log","showGameOver","setTimeout","resetAnswer","showRandomNameCorrect","showScoreCalculator","getAnswer","showCountdownTime","handleIncorrectAnswer","$","get","pause","playSoundGameOver","clearInterval","_state$listProducts$r","randomIndex","Math","floor","random","length","title","setRandomNameCorrect","actions","store","reducer","game"],"sources":["C:/Users/Admin/OneDrive/Máy tính/AUDIO/minigame-react/src/store/gameSlice.js"],"sourcesContent":["import { configureStore, createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  listProducts: [],\r\n  listCharacters: [],\r\n  nameCorrectIndex: null,\r\n  requiredNumberProducts: null,\r\n  randomNameCorrect: '',\r\n\r\n  levels: [],\r\n  timeStepPercentage: [],\r\n\r\n  countdownTime: 3,\r\n  showCountdownModal: false,\r\n  intervalId: null,\r\n  showGameContent: false,\r\n\r\n  initTimeRemainder: 100,\r\n  playTimes: 5,\r\n  maxRequiredProducts: 5,\r\n  answerDone: false,\r\n  timeStepDenominator: 10,\r\n  score: 0,\r\n\r\n  gameTime: {\r\n    timerInterval: null,\r\n    timeRemainder: 100,\r\n    timeStep: 10,\r\n  },\r\n  gameSound: {\r\n    audioBackground: \"assets/music/bg_sound.mp3\",\r\n    audioFail: \"assets/music/wrong.mp3\",\r\n    maxVolume: 1,\r\n    audioRatio: 1,\r\n  },\r\n  currentScore: 0,\r\n  currentLevel: 1,\r\n};\r\n\r\nconst gameSlice = createSlice({\r\n  name: 'game',\r\n  initialState,\r\n\r\n  reducers: {\r\n    updateProducts(state, action) {\r\n      state.listProducts = action.payload;\r\n    },\r\n    updateCharacters(state, action) {\r\n      state.listCharacters = action.payload;\r\n    },\r\n    updateLevels(state, action) {\r\n      state.levels = action.payload;\r\n    },\r\n    updateTimeStepPercentage(state, action) {\r\n      state.timeStepPercentage = action.payload;\r\n    },\r\n    setCountdownTime(state, action) {\r\n      state.countdownTime = action.payload;\r\n    },\r\n    toggleCountdownModal(state, action) {\r\n      state.showCountdownModal = action.payload;\r\n    },\r\n    setIntervalId(state, action) {\r\n      state.intervalId = action.payload;\r\n    },\r\n    toggleGameContent(state, action) {\r\n      state.showGameContent = action.payload;\r\n    },\r\n    resetGame(state) {\r\n      return initialState;\r\n    },\r\n    incrementScore(state) {\r\n      state.currentScore += 1;\r\n    },\r\n    incrementLevel(state) {\r\n      state.currentLevel += 1;\r\n    },\r\n    setShowRandomProductName(state, action) {\r\n      state.requiredProductName = action.payload;\r\n    },\r\n    setRandomProductNumber(state, action) {\r\n      state.requiredProductNumber = action.payload;\r\n    },\r\n    setGameData(state, action) {\r\n      state.listProducts = action.payload.products;\r\n      state.listCharacters = action.payload.characters;\r\n      state.levels = action.payload.levels;\r\n    },\r\n    handleCorrectAnswer: (state, action) => {\r\n      const { productCard } = action.payload;\r\n      const numberCorrectElement = productCard.find('.number-correct span:last-child');\r\n      const newValue = Number(numberCorrectElement.text()) + 1;\r\n      numberCorrectElement.text(newValue);\r\n      productCard.find('.number-correct').css('display', 'flex');\r\n\r\n      if (newValue > state.requiredNumberProducts) {\r\n        console.log('You choosed over quantity!');\r\n        state.showGameOver = true;\r\n      } else if (newValue === state.requiredNumberProducts) {\r\n        console.log('You choosed correct');\r\n        setTimeout(() => {\r\n          state.resetAnswer();\r\n          state.showRandomNameCorrect();\r\n          state.showScoreCalculator();\r\n          state.getAnswer();\r\n          state.showCountdownTime();\r\n        }, 300);\r\n      }\r\n    },\r\n    handleIncorrectAnswer: (state) => {\r\n      console.log('You choosed incorrect!');\r\n      $(\".audio-background\").get(0).pause();\r\n      state.showGameOver = true;\r\n      state.playSoundGameOver();\r\n    },\r\n    resetAnswer: (state) => {\r\n      $('.number-correct span:last-child').text('0');\r\n      $('.name-correct-desc').text('');\r\n      $('.number-correct').css('display', 'none');\r\n      clearInterval(state.gameTime.timerInterval);\r\n      state.gameTime.timeRemainder = state.gameTime.initTimeRemainder;\r\n      $('.timer-range').css('width', `${state.gameTime.timeRemainder}%`);\r\n    },\r\n    showRandomNameCorrect(state) {\r\n      const randomIndex = Math.floor(Math.random() * state.listProducts.length);\r\n      const maxRequiredProducts = 5;\r\n      state.nameCorrectIndex = randomIndex;\r\n      state.requiredNumberProducts = Math.floor(Math.random() * maxRequiredProducts) + 1;\r\n      state.randomNameCorrect = state.listProducts[randomIndex]?.title || '';\r\n    },\r\n    \r\n  },\r\n});\r\n\r\nexport const {\r\n  updateProducts,\r\n  updateCharacters,\r\n  updateLevels,\r\n  updateTimeStepPercentage,\r\n  resetGame,\r\n  incrementScore,\r\n  incrementLevel,\r\n  setCountdownTime,\r\n  toggleCountdownModal,\r\n  setIntervalId,\r\n  toggleGameContent,\r\n  setShowRandomProductName,\r\n  setRandomProductNumber,\r\n  setGameData,\r\n  showRandomNameCorrect, \r\n  setRandomNameCorrect\r\n} = gameSlice.actions;\r\n\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    game: gameSlice.reducer,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}