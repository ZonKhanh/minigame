{"ast":null,"code":"// CountdownSlice.js\nimport{createSlice}from'@reduxjs/toolkit';import{toggleGameContent,resetGame}from'../GameContentModal/GameContentSlice';const countdownSlice=createSlice({name:'countdownModal',initialState:{countdownTime:3,showCountdownModal:false,intervalId:null},reducers:{setCountdownTimeModal:(state,action)=>{state.countdownTime=action.payload;},toggleCountdownModal:(state,action)=>{state.showCountdownModal=action.payload;},setIntervalId:(state,action)=>{state.intervalId=action.payload;}}});export const{setCountdownTimeModal,toggleCountdownModal,setIntervalId}=countdownSlice.actions;export const startCountdown=()=>(dispatch,getState)=>{const initCountDownTime=3;dispatch(resetGame());dispatch(setCountdownTimeModal(initCountDownTime));const id=setInterval(()=>{const{countdownModal}=getState();const newTime=countdownModal.countdownTime-1;if(newTime<=0){clearInterval(id);dispatch(setIntervalId(null));dispatch(toggleCountdownModal(false));dispatch(toggleGameContent(true));}else{dispatch(setCountdownTimeModal(newTime));}},1000);dispatch(setIntervalId(id));};export default countdownSlice.reducer;","map":{"version":3,"names":["createSlice","toggleGameContent","resetGame","countdownSlice","name","initialState","countdownTime","showCountdownModal","intervalId","reducers","setCountdownTimeModal","state","action","payload","toggleCountdownModal","setIntervalId","actions","startCountdown","dispatch","getState","initCountDownTime","id","setInterval","countdownModal","newTime","clearInterval","reducer"],"sources":["C:/Users/Admin/OneDrive/Máy tính/MiniGame-ReduxToolKit/src/components/CountdownModal/CountdownSlice.js"],"sourcesContent":["// CountdownSlice.js\r\nimport { createSlice } from '@reduxjs/toolkit';\r\nimport { toggleGameContent, resetGame } from '../GameContentModal/GameContentSlice';\r\n\r\nconst countdownSlice = createSlice({\r\n  name: 'countdownModal',\r\n  initialState: {\r\n    countdownTime: 3,\r\n    showCountdownModal: false,\r\n    intervalId: null,\r\n  },\r\n  reducers: {\r\n    setCountdownTimeModal: (state, action) => {\r\n      state.countdownTime = action.payload;\r\n    },\r\n    toggleCountdownModal: (state, action) => {\r\n      state.showCountdownModal = action.payload;\r\n    },\r\n    setIntervalId: (state, action) => {\r\n      state.intervalId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCountdownTimeModal, toggleCountdownModal, setIntervalId } = countdownSlice.actions;\r\n\r\nexport const startCountdown = () => (dispatch, getState) => {\r\n  const initCountDownTime = 3;\r\n\r\n  dispatch(resetGame());\r\n  dispatch(setCountdownTimeModal(initCountDownTime));\r\n\r\n  const id = setInterval(() => {\r\n    const { countdownModal } = getState();\r\n    const newTime = countdownModal.countdownTime - 1;\r\n    if (newTime <= 0) {\r\n      clearInterval(id);\r\n      dispatch(setIntervalId(null));\r\n      dispatch(toggleCountdownModal(false));\r\n      dispatch(toggleGameContent(true));\r\n    } else {\r\n      dispatch(setCountdownTimeModal(newTime));\r\n    }\r\n  }, 1000);\r\n\r\n  dispatch(setIntervalId(id));\r\n};\r\n\r\nexport default countdownSlice.reducer;\r\n"],"mappings":"AAAA;AACA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,iBAAiB,CAAEC,SAAS,KAAQ,sCAAsC,CAEnF,KAAM,CAAAC,cAAc,CAAGH,WAAW,CAAC,CACjCI,IAAI,CAAE,gBAAgB,CACtBC,YAAY,CAAE,CACZC,aAAa,CAAE,CAAC,CAChBC,kBAAkB,CAAE,KAAK,CACzBC,UAAU,CAAE,IACd,CAAC,CACDC,QAAQ,CAAE,CACRC,qBAAqB,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACxCD,KAAK,CAACL,aAAa,CAAGM,MAAM,CAACC,OAAO,CACtC,CAAC,CACDC,oBAAoB,CAAEA,CAACH,KAAK,CAAEC,MAAM,GAAK,CACvCD,KAAK,CAACJ,kBAAkB,CAAGK,MAAM,CAACC,OAAO,CAC3C,CAAC,CACDE,aAAa,CAAEA,CAACJ,KAAK,CAAEC,MAAM,GAAK,CAChCD,KAAK,CAACH,UAAU,CAAGI,MAAM,CAACC,OAAO,CACnC,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEH,qBAAqB,CAAEI,oBAAoB,CAAEC,aAAc,CAAC,CAAGZ,cAAc,CAACa,OAAO,CAEpG,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAACC,QAAQ,CAAEC,QAAQ,GAAK,CAC1D,KAAM,CAAAC,iBAAiB,CAAG,CAAC,CAE3BF,QAAQ,CAAChB,SAAS,CAAC,CAAC,CAAC,CACrBgB,QAAQ,CAACR,qBAAqB,CAACU,iBAAiB,CAAC,CAAC,CAElD,KAAM,CAAAC,EAAE,CAAGC,WAAW,CAAC,IAAM,CAC3B,KAAM,CAAEC,cAAe,CAAC,CAAGJ,QAAQ,CAAC,CAAC,CACrC,KAAM,CAAAK,OAAO,CAAGD,cAAc,CAACjB,aAAa,CAAG,CAAC,CAChD,GAAIkB,OAAO,EAAI,CAAC,CAAE,CAChBC,aAAa,CAACJ,EAAE,CAAC,CACjBH,QAAQ,CAACH,aAAa,CAAC,IAAI,CAAC,CAAC,CAC7BG,QAAQ,CAACJ,oBAAoB,CAAC,KAAK,CAAC,CAAC,CACrCI,QAAQ,CAACjB,iBAAiB,CAAC,IAAI,CAAC,CAAC,CACnC,CAAC,IAAM,CACLiB,QAAQ,CAACR,qBAAqB,CAACc,OAAO,CAAC,CAAC,CAC1C,CACF,CAAC,CAAE,IAAI,CAAC,CAERN,QAAQ,CAACH,aAAa,CAACM,EAAE,CAAC,CAAC,CAC7B,CAAC,CAED,cAAe,CAAAlB,cAAc,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}